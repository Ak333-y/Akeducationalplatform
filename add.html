<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>問題追加 - BNP</title>
<style>
body { font-family:'Segoe UI',sans-serif; background:#fff; text-align:center; margin-top:60px; }
input,textarea { margin:6px; padding:6px; width:80%; border:1px solid #ccc; border-radius:8px; }
button { padding:8px 16px; background:#333; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:8px;}
</style>
</head>
<body>
<h2>問題を追加する</h2>
<p>現在の科目：<span id="subj"></span></p>
<textarea id="q" placeholder="問題文"></textarea><br>
<input id="c1" placeholder="選択肢1">
<input id="c2" placeholder="選択肢2">
<input id="c3" placeholder="選択肢3">
<input id="c4" placeholder="選択肢4"><br>
<input id="a" placeholder="正解の選択肢内容"><br>
<input id="p" type="number" placeholder="ポイント"><br>
<button onclick="add()">追加</button>

<script>
document.getElementById("subj").innerText=localStorage.getItem("subject");

function add(){
  const q=document.getElementById("q").value;
  const choices=[c1.value,c2.value,c3.value,c4.value].filter(c=>c);
  const a=document.getElementById("a").value;
  const p=document.getElementById("p").value;
  const subject=localStorage.getItem("subject");
  if(!q||!a||choices.length<2) return alert("入力不足！");
  const data=JSON.parse(localStorage.getItem("questions")||"[]");
  data.push({subject,question:q,choices,answer:a,point:p});
  localStorage.setItem("questions",JSON.stringify(data));
  alert("追加完了！");
  location.href="menu.html";
}
</script>
</body>
</html>
